@page "/"
@using AdminPanel.Client.Services
@using AdminPanel.Client.Models
@inject IAuthService AuthService
@attribute [Authorize]

<AuthorizeView>
    <h1>Instrumentbræt</h1>
    <hr />
    <p>Velkommen til dit instrumentbræt, @CurrentUser?.UserName!</p>
</AuthorizeView>

@code
{
  public User CurrentUser { get; set; }

  protected override async Task OnInitializedAsync()
  {
      CurrentUser = await AuthService.GetCurrentUser();
      await base.OnInitializedAsync();
  }

}